const slider=document.getElementById("slider"),sliderItems=document.getElementById("slides");function slide(e,s){let t;const i=s.getElementsByClassName("main__submovie"),n=i.length,l=s.getElementsByClassName("main__submovie")[0].offsetWidth,d=i[0],a=i[1],o=i[2],c=i[3],r=i[4],m=i[5],f=i[n-1],u=d.cloneNode(!0),_=a.cloneNode(!0),h=o.cloneNode(!0),v=c.cloneNode(!0),p=r.cloneNode(!0),L=m.cloneNode(!0),E=f.cloneNode(!0);let C=0,N=!0;function b(e,i){s.classList.add("shifting"),N&&(i||(t=s.offsetLeft),s.style.left=t-l+"px",C++),N=!1}s.appendChild(u),s.appendChild(_),s.appendChild(h),s.appendChild(v),s.appendChild(p),s.appendChild(L),s.insertBefore(E,d),e.classList.add("loaded");let g=setInterval(b,3e3),y=null;slider.addEventListener("click",function(){clearTimeout(y),clearInterval(g),g=null,y=setTimeout(()=>{clearInterval(g),g=setInterval(b,3e3)},4e3)}),s.addEventListener("transitionend",function(){s.classList.remove("shifting"),-1==C&&(s.style.left=-n*l+"px",C=n-1),C==n-1&&(s.style.left=-1*l+"px",C=0),N=!0}),f.classList.add("main__submovie_hidden"),E.classList.add("main__submovie_hidden");const I=Array.from(document.querySelectorAll(".main__submovie")),B=document.querySelector(".main__movie");slider.addEventListener("click",function(e){if(e.target.parentElement.classList.contains("main__submovie")){for(I.forEach(e=>e.classList.remove("main__submovie_hidden")),I.forEach(s=>{s.classList.contains(e.target.parentElement.className.split(" ")[1])&&s.classList.add("main__submovie_hidden")});B.firstChild;)B.removeChild(B.firstChild);let s=e.target.parentElement.cloneNode(!0);s.classList.remove("main__submovie_hidden"),s.children[1].classList.remove("iframe-sub"),s.children[1].classList.add("iframe-one"),s.children[0].remove(),B.append(s)}})}slide(slider,sliderItems);